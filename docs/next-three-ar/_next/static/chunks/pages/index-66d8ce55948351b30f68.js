(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{567:function(e,n,t){"use strict";t.d(n,{Z:function(){return o}});var i=t(7294);function o(){var e=(0,i.useState)(0),n=e[0],t=e[1],o=(0,i.useState)(0),r=o[0],a=o[1];function u(){t(window.innerWidth),a(window.innerHeight)}return(0,i.useEffect)((function(){return window.removeEventListener("resize",u),window.addEventListener("resize",u,{passive:!0}),u(),function(){window.removeEventListener("resize",u)}}),[]),{windowWidth:n,windowHeight:r}}},6839:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return u}});var i=t(5893),o=t(567),r=t(7294),a=t(9163).ZP.div.withConfig({displayName:"pages__Wrapper",componentId:"sc-8fzoqi-0"})([".overlay{position:fixed;top:50%;left:50%;border:solid 8000px rgba(0,0,0,.6);width:200px;height:200px;transform:translate(-50%,-50%);&:after{position:fixed;top:calc(50% + 120px);left:0;right:0;content:'\u30de\u30fc\u30ab\u30fc\u3092\u63a2\u3057\u3066\u304f\u3060\u3055\u3044';text-align:center;}}"]);function u(){var e=(0,r.useState)(!1),n=e[0],t=e[1],u=(0,r.useState)(null),c=u[0],d=u[1],s=(0,r.useState)(!1),l=s[0],w=s[1],f=(0,r.useState)(null),p=f[0],m=f[1],v=(0,r.useState)(null),h=v[0],E=v[1],x=(0,r.useRef)(null),y=(0,o.Z)(),_=y.windowWidth,g=y.windowHeight;(0,r.useEffect)((function(){return t(!0)}),[]),(0,r.useEffect)((function(){var e=window.THREE,n=window.THREEx,t=new e.Scene,i=new e.WebGLRenderer({canvas:x.current,antialias:!0,alpha:!0});i.outputEncoding=e.GammaEncoding,i.setPixelRatio(window.devicePixelRatio),i.setSize(window.innerWidth,window.innerHeight),d(i);var o=new e.Camera;t.add(o);var r=new n.ArToolkitContext({cameraParametersUrl:"camera_para.dat",detectionMode:"mono"});r.init((function(){o.projectionMatrix.copy(r.getProjectionMatrix())})),E(r);var a=new n.ArToolkitSource({sourceType:"webcam"});m(a),a.init((function(){document.getElementById("__next").appendChild(a.domElement),setTimeout((function(){a.onResize(),a.copySizeTo(i.domElement),document.body.style.opacity=String(1)}),800)}));var u=new e.Group;t.add(u),new n.ArMarkerControls(r,u,{type:"pattern",patternUrl:"pattern.patt"}).addEventListener("markerFound",(function(){w(!0)}));var c=new e.BoxGeometry(1,1,1),s=new e.MeshBasicMaterial({color:13421772,opacity:.8}),l=new e.Mesh(c,s);l.position.set(0,1,0),l.rotation.y=Math.PI/180*-90,u.add(l),i.setAnimationLoop((function(){a.ready&&r.update(a.domElement),i.render(t,o)}));var f=new e.AmbientLight;return t.add(f),function(){return i.setAnimationLoop(null)}}),[x]);var S=(0,r.useCallback)((function(){p&&c&&(p.onResize(),p.copySizeTo(c.domElement),h&&h.arController&&p.copySizeTo(h.arController.canvas))}),[c,p,h]);return(0,r.useEffect)(S,[S,_,g]),(0,i.jsxs)(a,{children:[(0,i.jsx)("canvas",{ref:x}),function(){if(n)return!l&&(0,i.jsx)("div",{className:"overlay"})}()]})}},5301:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(6839)}])}},function(e){e.O(0,[163,774,888,179],(function(){return n=5301,e(e.s=n);var n}));var n=e.O();_N_E=n}]);