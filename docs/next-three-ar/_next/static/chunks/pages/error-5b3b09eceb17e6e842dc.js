(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[510],{567:function(e,n,t){"use strict";t.d(n,{Z:function(){return r}});var i=t(7294);function r(){var e=(0,i.useState)(0),n=e[0],t=e[1],r=(0,i.useState)(0),o=r[0],a=r[1];function u(){t(window.innerWidth),a(window.innerHeight)}return(0,i.useEffect)((function(){return window.removeEventListener("resize",u),window.addEventListener("resize",u,{passive:!0}),u(),function(){window.removeEventListener("resize",u)}}),[]),{windowWidth:n,windowHeight:o}}},1969:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return u}});var i=t(5893),r=t(567),o=t(7294),a=t(9163).ZP.div.withConfig({displayName:"error__Wrapper",componentId:"sc-19i1br0-0"})([".overlay{position:fixed;top:50%;left:50%;border:solid 8000px rgba(0,0,0,.6);width:200px;height:200px;transform:translate(-50%,-50%);&:after{position:fixed;top:calc(50% + 120px);left:0;right:0;content:'\u30de\u30fc\u30ab\u30fc\u3092\u63a2\u3057\u3066\u304f\u3060\u3055\u3044';text-align:center;}}"]);function u(){var e=(0,o.useState)(!1),n=e[0],t=e[1],u=(0,o.useState)(null),c=u[0],s=u[1],d=(0,o.useState)(!1),w=d[0],l=d[1],f=(0,o.useState)(null),p=f[0],v=f[1],m=(0,o.useState)(null),h=m[0],E=m[1],x=(0,o.useRef)(null),y=(0,r.Z)(),_=y.windowWidth,g=y.windowHeight;(0,o.useEffect)((function(){return t(!0)}),[]),(0,o.useEffect)((function(){var e=window.THREE,n=window.THREEx,t=new e.Scene,i=new e.WebGLRenderer({canvas:x.current,antialias:!0,alpha:!0});i.outputEncoding=e.GammaEncoding,i.setPixelRatio(window.devicePixelRatio),i.setSize(window.innerWidth,window.innerHeight),s(i);var r=new e.Camera;t.add(r);var o=new n.ArToolkitContext({cameraParametersUrl:"camera_para.dat",detectionMode:"mono"});o.init((function(){r.projectionMatrix.copy(o.getProjectionMatrix())})),E(o);var a=new n.ArToolkitSource({sourceType:"webcam"});v(a),a.init((function(){setTimeout((function(){a.onResize(),a.copySizeTo(i.domElement),document.body.style.opacity=String(1)}),800)}));var u=new e.Group;t.add(u),new n.ArMarkerControls(o,u,{type:"pattern",patternUrl:"pattern.patt"}).addEventListener("markerFound",(function(){l(!0)}));var c=new e.BoxGeometry(1,1,1),d=new e.MeshBasicMaterial({color:13421772,opacity:.8}),w=new e.Mesh(c,d);w.position.set(0,1,0),w.rotation.y=Math.PI/180*-90,u.add(w),i.setAnimationLoop((function(){a.ready&&o.update(a.domElement),i.render(t,r)}));var f=new e.AmbientLight;return t.add(f),function(){return i.setAnimationLoop(null)}}),[x]);var S=(0,o.useCallback)((function(){p&&c&&(p.onResize(),p.copySizeTo(c.domElement),h&&h.arController&&p.copySizeTo(h.arController.canvas))}),[c,p,h]);return(0,o.useEffect)(S,[S,_,g]),(0,i.jsxs)(a,{children:[(0,i.jsx)("canvas",{ref:x}),function(){if(n)return!w&&(0,i.jsx)("div",{className:"overlay"})}()]})}},5855:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/error",function(){return t(1969)}])}},function(e){e.O(0,[163,774,888,179],(function(){return n=5855,e(e.s=n);var n}));var n=e.O();_N_E=n}]);